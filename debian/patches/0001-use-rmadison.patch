From a672a0e34abee1e613ae82f03fd7b605ff495d8e Mon Sep 17 00:00:00 2001
From: Shanavas M <shanavas.m2@gmail.com>
Date: Thu, 27 Oct 2016 19:06:04 +0300
Subject: [PATCH] Use rmadison to find available packages

Fixes https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=836182
---
 npm2deb/mapper.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/npm2deb/mapper.py b/npm2deb/mapper.py
index 5a7e26f..ed70b77 100644
--- a/npm2deb/mapper.py
+++ b/npm2deb/mapper.py
@@ -56,7 +56,7 @@ def get_debian_package(self, node_module):
             return result
 
         madison = _getstatusoutput(
-            'apt-cache madison "%s" | grep Sources' % result['name'])
+            'rmadison -s sid "%s" | grep source' % result['name'])
 
         if madison[0] != 0:
             result['name'] = None
