From 0a9f8b01e0fef126a0f350aa0785d56b0a882496 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=A9r=C3=A9my=20Lal?= <kapouer@melix.org>
Date: Fri, 11 Nov 2016 21:27:33 +0100
Subject: [PATCH] Check man field is not an array

Fixes https://github.com/LeoIannacone/npm2deb/issues/20
---
 npm2deb/__init__.py | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

--- a/npm2deb/__init__.py
+++ b/npm2deb/__init__.py
@@ -174,9 +174,13 @@
                     _os.remove(filename)
 
     def create_manpages(self):
-        if 'man' in self.json:
-            content = _os.path.normpath(self.json['man'])
-            utils.create_debian_file('manpages', content)
+        if not 'man' in self.json:
+            return
+        mans = self.json['man']
+        if not isinstance(mans, (list, tuple)):
+            mans = [mans]
+        paths = [_os.path.normpath(manpath) for manpath in mans]
+        utils.create_debian_file('manpages', "\n".join(paths))
 
     def create_watch(self):
         args = {}
